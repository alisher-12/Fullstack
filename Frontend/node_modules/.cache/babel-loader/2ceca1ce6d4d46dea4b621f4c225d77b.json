{"ast":null,"code":"var _jsxFileName = \"/Users/alisher/Desktop/Northwind Full Stack/Frontend/src/Components/ProductsArea/EditProduct/EditProduct.tsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport notifyService from \"../../../Services/NotifyService\";\nimport productsService from \"../../../Services/ProductsService\";\nimport \"./EditProduct.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction EditProduct() {\n  _s();\n\n  var _formState$errors$nam, _formState$errors$pri, _formState$errors$sto;\n\n  const params = useParams();\n  const navigate = useNavigate();\n  const {\n    register,\n    handleSubmit,\n    formState,\n    setValue\n  } = useForm();\n  useEffect(() => {\n    const id = +params.prodId;\n    productsService.getOneProduct(id).then(product => {\n      setValue(\"id\", product.id);\n      setValue(\"name\", product.name);\n      setValue(\"price\", product.price);\n      setValue(\"stock\", product.stock);\n    }).catch(err => notifyService.error(err));\n  }, []);\n\n  async function send(product) {\n    try {\n      await productsService.updateProduct(product);\n      notifyService.success(\"Product has been updated\");\n      navigate(\"/products\");\n    } catch (err) {\n      notifyService.error(err);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"EditProduct Box\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit(send),\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Edit Product\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"hidden\",\n        ...register(\"id\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Name: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        ...register(\"name\", {\n          required: {\n            value: true,\n            message: \"Missing name\"\n          },\n          minLength: {\n            value: 2,\n            message: \"Name must be minimum 2 chars\"\n          },\n          maxLength: {\n            value: 100,\n            message: \"Name can't exceed 100 chars\"\n          }\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: (_formState$errors$nam = formState.errors.name) === null || _formState$errors$nam === void 0 ? void 0 : _formState$errors$nam.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Price: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        step: \"0.01\",\n        ...register(\"price\", {\n          required: {\n            value: true,\n            message: \"Missing price\"\n          },\n          min: {\n            value: 0,\n            message: \"Price can't be negative\"\n          },\n          max: {\n            value: 1000,\n            message: \"Price can't exceed 1000\"\n          }\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: (_formState$errors$pri = formState.errors.price) === null || _formState$errors$pri === void 0 ? void 0 : _formState$errors$pri.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Stock: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        ...register(\"stock\", {\n          required: {\n            value: true,\n            message: \"Missing stock\"\n          },\n          min: {\n            value: 0,\n            message: \"Stock can't be negative\"\n          },\n          max: {\n            value: 10000,\n            message: \"Stock can't exceed 10,000\"\n          }\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: (_formState$errors$sto = formState.errors.stock) === null || _formState$errors$sto === void 0 ? void 0 : _formState$errors$sto.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Image: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        accept: \"image/*\",\n        ...register(\"image\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"Update\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 9\n  }, this);\n}\n\n_s(EditProduct, \"rQC0byDofFdJDI8Wd6S4i0RQh9k=\", false, function () {\n  return [useParams, useNavigate, useForm];\n});\n\n_c = EditProduct;\nexport default EditProduct;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditProduct\");","map":{"version":3,"names":["useEffect","useForm","useNavigate","useParams","notifyService","productsService","EditProduct","params","navigate","register","handleSubmit","formState","setValue","id","prodId","getOneProduct","then","product","name","price","stock","catch","err","error","send","updateProduct","success","required","value","message","minLength","maxLength","errors","min","max"],"sources":["/Users/alisher/Desktop/Northwind Full Stack/Frontend/src/Components/ProductsArea/EditProduct/EditProduct.tsx"],"sourcesContent":["import { useEffect } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport ProductModel from \"../../../Models/ProductModel\";\nimport notifyService from \"../../../Services/NotifyService\";\nimport productsService from \"../../../Services/ProductsService\";\nimport \"./EditProduct.css\";\n\nfunction EditProduct(): JSX.Element {\n\n    const params = useParams();\n    const navigate = useNavigate();\n    const { register, handleSubmit, formState, setValue } = useForm<ProductModel>();\n\n    useEffect(() => {\n        const id = +params.prodId;\n        productsService.getOneProduct(id)\n            .then(product => {\n                setValue(\"id\", product.id);\n                setValue(\"name\", product.name);\n                setValue(\"price\", product.price);\n                setValue(\"stock\", product.stock);\n            })\n            .catch(err => notifyService.error(err));\n    }, []);\n\n    async function send(product: ProductModel) {\n        try {\n            await productsService.updateProduct(product);\n            notifyService.success(\"Product has been updated\");\n            navigate(\"/products\");\n        }\n        catch (err: any) {\n            notifyService.error(err);\n        }\n    }\n\n    return (\n        <div className=\"EditProduct Box\">\n\n            <form onSubmit={handleSubmit(send)}>\n\n                <h2>Edit Product</h2>\n\n                {/* Product ID: */}\n                <input type=\"hidden\" {...register(\"id\")} />\n\n                <label>Name: </label>\n                <input type=\"text\" {...register(\"name\", {\n                    required: { value: true, message: \"Missing name\" },\n                    minLength: { value: 2, message: \"Name must be minimum 2 chars\" },\n                    maxLength: { value: 100, message: \"Name can't exceed 100 chars\" }\n                })} />\n                <span>{formState.errors.name?.message}</span>\n\n                <label>Price: </label>\n                <input type=\"number\" step=\"0.01\" {...register(\"price\", {\n                    required: { value: true, message: \"Missing price\" },\n                    min: { value: 0, message: \"Price can't be negative\" },\n                    max: { value: 1000, message: \"Price can't exceed 1000\" },\n                })} />\n                <span>{formState.errors.price?.message}</span>\n\n                <label>Stock: </label>\n                <input type=\"number\" {...register(\"stock\", {\n                    required: { value: true, message: \"Missing stock\" },\n                    min: { value: 0, message: \"Stock can't be negative\" },\n                    max: { value: 10000, message: \"Stock can't exceed 10,000\" },\n                })} />\n                <span>{formState.errors.stock?.message}</span>\n\n                <label>Image: </label>\n                <input type=\"file\" accept=\"image/*\" {...register(\"image\")} />\n\n                <button>Update</button>\n\n            </form>\n\n        </div>\n    );\n}\n\nexport default EditProduct;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}